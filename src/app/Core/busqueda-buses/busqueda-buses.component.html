<div class="p-4 bg-gray-100 rounded-lg">
  <h2 class="text-xl font-bold mb-4">Buscar Buses</h2>
  <form (submit)="buscarBuses(origen, destino, fechaIda)">
    <div class="grid grid-cols-3 gap-4">
      <div>
        <label class="block text-sm font-medium">Origen</label>
        <input
          type="text"
          [(ngModel)]="origen"
          class="w-full p-2 border rounded"
        />
      </div>
      <div>
        <label class="block text-sm font-medium">Destino</label>
        <input
          type="text"
          [(ngModel)]="destino"
          class="w-full p-2 border rounded"
        />
      </div>
      <div>
        <label class="block text-sm font-medium">Fecha de Ida</label>
        <input
          type="date"
          [(ngModel)]="fechaIda"
          class="w-full p-2 border rounded"
        />
      </div>
    </div>
    <div class="mt-4">
      <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded">
        Buscar
      </button>
    </div>
  </form>
</div>

<div *ngIf="busesIda.length > 0; else noBuses" class="mt-6">
  <h3 class="text-lg font-semibold">Buses Disponibles</h3>
  <table class="w-full border-collapse border border-gray-300 mt-2">
    <thead>
      <tr class="bg-gray-200">
        <th class="border px-4 py-2">Bus</th>
        <th class="border px-4 py-2">Origen</th>
        <th class="border px-4 py-2">Destino</th>
        <th class="border px-4 py-2">Fecha</th>
        <th class="border px-4 py-2">Horario</th>
        <th class="border px-4 py-2">Precio</th>
        <th class="border px-4 py-2">Duración</th>
        <th class="border px-4 py-2">Asientos</th>
        <th class="border px-4 py-2">Acción</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let bus of busesIda" class="hover:bg-gray-100">
        <td class="border px-4 py-2">{{ bus.busNumber }}</td>
        <td class="border px-4 py-2">{{ bus.origen }}</td>
        <td class="border px-4 py-2">{{ bus.destino }}</td>
        <td class="border px-4 py-2">{{ bus.date }}</td>
        <td class="border px-4 py-2">{{ bus.horarioViaje }}</td>
        <td class="border px-4 py-2">{{ bus.precio }} PEN</td>
        <td class="border px-4 py-2">{{ bus.duracionViaje }}</td>
        <td class="border px-4 py-2">{{ bus.totalSeats }}</td>
        <td class="border px-4 py-2">
          <button
            (click)="seleccionarBus(bus.busId)"
            class="px-3 py-1 bg-green-500 text-white rounded"
          >
            Seleccionar
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<ng-template #noBuses>
  <p class="text-red-500">No hay buses disponibles.</p>
</ng-template>
